<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Cookie Click Explosion</title>
<style>
    body {
        margin: 0;
        height: 100vh;
        display: flex;
        justify-content: center;
        align-items: center;
        background: #000;
        overflow: hidden;
    }

    #container {
        position: relative;
        width: 200px;
        height: 200px;
    }

    #btn {
        width: 200px;
        height: 200px;
        background-image: url("assets/cookie.png");
        background-size: cover;
        border: none;
        cursor: pointer;
        border-radius: 50%;
        position: relative;
        z-index: 2;
    }

    /* EXPLOSION SPRITE */
    #explosion {
        position: absolute;
        width: 512px;   /* sprite width divided by number of frames: 8192/16 = 512 */
        height: 512px;  /* your sprite’s height */
        left: 50%;
        top: 50%;
        transform: translate(-50%, -50%);
        background-image: url("assets/Explosion.png");
        background-repeat: no-repeat;
        background-size: 8192px 512px; /* 16 frames × 512px */
        opacity: 0;
        pointer-events: none;
        z-index: 1;
    }

    /* SPRITE ANIMATION */
    @keyframes spriteBoom {
        0%   { background-position:   0px 0; opacity: 1; }
        6%   { background-position: -512px 0; }
        12%  { background-position: -1024px 0; }
        18%  { background-position: -1536px 0; }
        25%  { background-position: -2048px 0; }
        31%  { background-position: -2560px 0; }
        37%  { background-position: -3072px 0; }
        43%  { background-position: -3584px 0; }
        50%  { background-position: -4096px 0; }
        56%  { background-position: -4608px 0; }
        62%  { background-position: -5120px 0; }
        68%  { background-position: -5632px 0; }
        75%  { background-position: -6144px 0; }
        81%  { background-position: -6656px 0; }
        87%  { background-position: -7168px 0; }
        100% { background-position: -7680px 0; opacity: 0; }
    }

    .boom {
        animation: spriteBoom 0.7s steps(1) forwards;
    }
</style>
</head>
<body>

<div id="container">
    <div id="explosion"></div>
    <button id="btn"></button>
</div>

<script>
    const button = document.getElementById("btn");
    const explosion = document.getElementById("explosion");

    button.addEventListener("click", () => {
        explosion.classList.remove("boom");
        void explosion.offsetWidth; // restart animation
        explosion.classList.add("boom");
    });
</script>

</body>
</html>
