<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>Cookie Game</title>

<!-- Press Start 2P -->
<link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">

<style>
    html, body {
        margin: 0;
        height: 100%;
        overflow: hidden;
        background: #000;
    }

    /* Dirt background */
    .terrain {
        width: 100%;
        height: 100%;
        background-image: url("assets/dirt.png");
        background-size: 50px 50px;
        animation: slide 5s linear infinite;
        position: absolute;
        top: 0;
        left: 0;
        z-index: 0;
    }

    @keyframes slide {
        from { background-position: 0 0; }
        to { background-position: 0 50px; }
    }

    /* START button with Minecraft grass block look */
    #beginBtn {
        font-family: 'Press Start 2P', cursive;
        font-size: 18px;
        padding: 20px 40px;
        color: white;
        background: linear-gradient(#6aa84f, #38761d);
        border: 6px solid #3d2b1f;
        border-bottom: 10px solid #3d2b1f;
        border-radius: 6px;
        text-shadow: 2px 2px 0px #000;
        cursor: pointer;
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        z-index: 10;
        transition: transform 0.15s ease;
    }

    #beginBtn:active {
        transform: translate(-50%, -50%) scale(0.92);
    }

    #cookie1, #cookie2 {
        width: 220px;
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        opacity: 0;
        cursor: pointer;
        transition: transform 0.1s ease, opacity 0.4s;
        z-index: 20;
    }

    /* cookie2 loads top-to-bottom */
    #cookie2.reveal {
        clip-path: inset(0 0 0 0);
        transition: clip-path 2.5s linear;
    }

    /* fullscreen jumpscare */
    #jumpscare {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        object-fit: cover;
        opacity: 0;
        z-index: 999;
        pointer-events: none;
        transition: opacity 0.15s linear;
    }
</style>

</head>
<body>

<div class="terrain"></div>

<button id="beginBtn">START</button>

<img id="cookie1" src="assets/cookie1.png">
<img id="cookie2" src="assets/cookie2.png">

<img id="jumpscare" src="assets/jumpscare.png">

<script>
let started = false;
let cookie1Clicks = 0;
let cookie2Clicks = 0;

const startBtn = document.getElementById("beginBtn");
const cookie1 = document.getElementById("cookie1");
const cookie2 = document.getElementById("cookie2");
const jumpscare = document.getElementById("jumpscare");

/* CLICK START → show cookie1 */
startBtn.addEventListener("click", () => {
    if (started) return;
    started = true;

    startBtn.style.opacity = "0";
    setTimeout(() => startBtn.style.display = "none", 400);

    setTimeout(() => {
        cookie1.style.opacity = "1";
    }, 450);
});

/* COOKIE 1 (5 clicks) */
cookie1.addEventListener("click", () => {
    if (cookie1.style.opacity !== "1") return;

    cookie1Clicks++;
    cookie1.style.transform = "translate(-50%, -50%) scale(0.88)";
    setTimeout(() => {
        cookie1.style.transform = "translate(-50%, -50%) scale(1)";
    }, 90);

    if (cookie1Clicks >= 5) {
        cookie1.style.opacity = "0";
        setTimeout(() => {
            cookie1.style.display = "none";

            /* reveal cookie2 with PNG-loading effect */
            cookie2.style.opacity = "1";
            cookie2.style.clipPath = "inset(100% 0 0 0)";
            cookie2.offsetHeight;
            cookie2.classList.add("reveal");

        }, 350);
    }
});

/* COOKIE 2 (10 clicks → jumpscare) */
cookie2.addEventListener("click", () => {
    if (cookie2.style.opacity !== "1") return;

    cookie2Clicks++;

    /* creepy slow click ping */
    cookie2.style.transform = "translate(-50%, -50%) scale(0.94)";
    setTimeout(() => {
        cookie2.style.transform = "translate(-50%, -50%) scale(1)";
    }, 120);

    /* after 10 clicks → FULLSCREEN jumpscare */
    if (cookie2Clicks >= 10) {

        setTimeout(() => {
            jumpscare.style.opacity = "1";
        }, 200);

        /* stay 3 seconds */
        setTimeout(() => {
            jumpscare.style.opacity = "0";
        }, 3000);
    }
});
</script>

</body>
</html>
